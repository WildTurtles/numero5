CREATE TABLE CATEGORIES (id SERIAL NOT NULL, "desc" varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE TABLE GROUPS (id SERIAL NOT NULL, "desc" varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE TABLE GROUPS_USERS (id SERIAL NOT NULL, GROUPS_id int4 NOT NULL, USERS_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE IMMOVABLES (id SERIAL NOT NULL, description varchar(255), address varchar(255) NOT NULL, rental int4, rented bool NOT NULL, USERS_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE IMMOVABLES_TENANTS (id SERIAL NOT NULL, date_end timestamp, date_begin timestamp, IMMOVABLES_id int4 NOT NULL, TENANTS_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE RENTALS (id SERIAL NOT NULL, amount int4 NOT NULL, month int4, paid int4, date_limit timestamp, IMMOVABLES_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE RENTS (id SERIAL NOT NULL, account int4 NOT NULL, paid bool, "date" timestamp, TYPE_RENTS_id int4 NOT NULL, RENTAL_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE TAXES (id SERIAL NOT NULL, amount int4 NOT NULL, IMMOVABLE_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE TAXES_CATEGORIES (id SERIAL NOT NULL, TAXES_id int4 NOT NULL, CATEGORIES_id int4 NOT NULL, PRIMARY KEY (id));
CREATE TABLE TENANTS (id SERIAL NOT NULL, name varchar(255) NOT NULL, firstname varchar(255) NOT NULL, email varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE TABLE TYPE_RENTS (id SERIAL NOT NULL, type varchar(255), PRIMARY KEY (id));
CREATE TABLE USERS (id SERIAL NOT NULL, name varchar(255) NOT NULL, firstname varchar(255) NOT NULL, address varchar(255) NOT NULL, email varchar(255) NOT NULL, password varchar(255) NOT NULL, PRIMARY KEY (id));
CREATE INDEX USERS_password ON USERS (password);
ALTER TABLE TAXES ADD CONSTRAINT FKTAXES923572 FOREIGN KEY (IMMOVABLE_id) REFERENCES IMMOVABLES (id);
ALTER TABLE TAXES_CATEGORIES ADD CONSTRAINT FKTAXES_CATE485650 FOREIGN KEY (TAXES_id) REFERENCES TAXES (id);
ALTER TABLE TAXES_CATEGORIES ADD CONSTRAINT FKTAXES_CATE75021 FOREIGN KEY (CATEGORIES_id) REFERENCES CATEGORIES (id);
ALTER TABLE GROUPS_USERS ADD CONSTRAINT FKGROUPS_USE156490 FOREIGN KEY (GROUPS_id) REFERENCES GROUPS (id);
ALTER TABLE GROUPS_USERS ADD CONSTRAINT FKGROUPS_USE443268 FOREIGN KEY (USERS_id) REFERENCES USERS (id);
ALTER TABLE IMMOVABLES_TENANTS ADD CONSTRAINT FKIMMOVABLES777511 FOREIGN KEY (IMMOVABLES_id) REFERENCES IMMOVABLES (id);
ALTER TABLE IMMOVABLES_TENANTS ADD CONSTRAINT FKIMMOVABLES969351 FOREIGN KEY (TENANTS_id) REFERENCES TENANTS (id);
ALTER TABLE IMMOVABLES ADD CONSTRAINT FKIMMOVABLES556100 FOREIGN KEY (USERS_id) REFERENCES USERS (id);
ALTER TABLE RENTALS ADD CONSTRAINT FKRENTALS864266 FOREIGN KEY (IMMOVABLES_id) REFERENCES IMMOVABLES (id);
ALTER TABLE RENTS ADD CONSTRAINT FKRENTS860723 FOREIGN KEY (TYPE_RENTS_id) REFERENCES TYPE_RENTS (id);
ALTER TABLE RENTS ADD CONSTRAINT FKRENTS734778 FOREIGN KEY (RENTAL_id) REFERENCES RENTALS (id);
